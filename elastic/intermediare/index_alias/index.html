<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.92.2">
<meta name=description content="Tutoriel sur Elastic">
<meta name=author content="Maxime Calves">
<link rel=icon href=/elastic-tutorial/images/favicon.png type=image/png>
<title>Labs - Index et ALias :: Elastic Tutoriel</title>
<link href=/elastic-tutorial/css/nucleus.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/fontawesome-all.min.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/hybrid.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/featherlight.min.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/perfect-scrollbar.min.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/auto-complete.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/atom-one-dark-reasonable.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/theme.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/tabs.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/hugo-theme.css?1645973180 rel=stylesheet>
<link href=/elastic-tutorial/css/theme-blue.css?1645973180 rel=stylesheet>
<script src=/elastic-tutorial/js/jquery-3.3.1.min.js?1645973180></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}</style>
</head>
<body data-url=/elastic-tutorial/elastic/intermediare/index_alias/>
<nav id=sidebar class=showVisitedLinks>
<div id=header-wrapper>
<div id=header>
<img src=../../../../elastic-tutorial/media/logo.png>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=/elastic-tutorial/js/lunr.min.js?1645973180></script>
<script type=text/javascript src=/elastic-tutorial/js/auto-complete.js?1645973180></script>
<script type=text/javascript>var baseurl="https://maxime-cls.github.io/elastic-tutorial/"</script>
<script type=text/javascript src=/elastic-tutorial/js/search.js?1645973180></script>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/elastic-tutorial/elastic/ title=Elastic class="dd-item
parent">
<a href=/elastic-tutorial/elastic/>
Elastic
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/prerequis/ title=Prérequis class=dd-item>
<a href=/elastic-tutorial/elastic/prerequis/>
Prérequis
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/prerequis/installation/ title=Installation class=dd-item>
<a href=/elastic-tutorial/elastic/prerequis/installation/>
Installation
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/elastic-tutorial/elastic/d%C3%A9butant/ title=Débutant class=dd-item>
<a href=/elastic-tutorial/elastic/d%C3%A9butant/>
Débutant
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/d%C3%A9butant/lab_logs/ title="Lab - Logs" class=dd-item>
<a href=/elastic-tutorial/elastic/d%C3%A9butant/lab_logs/>
Lab - Logs
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/d%C3%A9butant/lab_metrics/ title="Lab - Metrics" class=dd-item>
<a href=/elastic-tutorial/elastic/d%C3%A9butant/lab_metrics/>
Lab - Metrics
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/d%C3%A9butant/lab_apm/ title="Lab - APM" class=dd-item>
<a href=/elastic-tutorial/elastic/d%C3%A9butant/lab_apm/>
Lab - APM
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/d%C3%A9butant/lab_uptime/ title="Lab - Uptime" class=dd-item>
<a href=/elastic-tutorial/elastic/d%C3%A9butant/lab_uptime/>
Lab - Uptime
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/ title=Elementaire class=dd-item>
<a href=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/>
Elementaire
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/security/ title="Lab - Habilitation" class=dd-item>
<a href=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/security/>
Lab - Habilitation
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/ilm/ title="Lab - Index Lifecycle Policy" class=dd-item>
<a href=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/ilm/>
Lab - Index Lifecycle Policy
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/backup/ title="Lab - Backup & Restore" class=dd-item>
<a href=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/backup/>
Lab - Backup & Restore
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/diagnostic/ title="Lab - Diagnostic" class=dd-item>
<a href=/elastic-tutorial/elastic/%C3%A9l%C3%A9mentaire/diagnostic/>
Lab - Diagnostic
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/ title=Intermediare class="dd-item
parent">
<a href=/elastic-tutorial/elastic/intermediare/>
Intermediare
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/alerting/ title="Lab - Alertes" class=dd-item>
<a href=/elastic-tutorial/elastic/intermediare/alerting/>
Lab - Alertes
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/index_alias/ title="Labs - Index et ALias" class="dd-item active">
<a href=/elastic-tutorial/elastic/intermediare/index_alias/>
Labs - Index et ALias
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/mapping/ title="Labs - Mapping" class=dd-item>
<a href=/elastic-tutorial/elastic/intermediare/mapping/>
Labs - Mapping
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/template_mapping/ title="Labs - Index Template et Mapping" class=dd-item>
<a href=/elastic-tutorial/elastic/intermediare/template_mapping/>
Labs - Index Template et Mapping
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/reindex/ title="Labs - Reindex" class=dd-item>
<a href=/elastic-tutorial/elastic/intermediare/reindex/>
Labs - Reindex
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/elastic-tutorial/elastic/intermediare/crud_documents/ title="Labs - CRUD" class=dd-item>
<a href=/elastic-tutorial/elastic/intermediare/crud_documents/>
Labs - CRUD
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/elastic-tutorial/elastic/avance/ title=Avancé class=dd-item>
<a href=/elastic-tutorial/elastic/avance/>
Avancé
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/elastic-tutorial/elastic/avance/fleet/ title="Bonus - Fleet & Elastic Agent" class=dd-item>
<a href=/elastic-tutorial/elastic/avance/fleet/>
Bonus - Fleet & Elastic Agent
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<section id=prefooter>
<hr>
<ul>
<li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li>
</ul>
</section>
<section id=footer>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=/elastic-tutorial/>Elastic Tutoriel</a> > <a href=/elastic-tutorial/elastic/>Elastic</a> > <a href=/elastic-tutorial/elastic/intermediare/>Intermediare</a> > Labs - Index et ALias
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents>
<ul>
<li><a href=#description>Description</a>
<ul>
<li><a href=#création-des-index>Création des index</a></li>
</ul>
</li>
<li><a href=#a-vous-de-jouez->A vous de jouez !</a>
<ul>
<li></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
Labs - Index et ALias
</h1>
<h2 id=description>Description</h2>
<p>Dans Elasticsearch, les données que nous indexons sont stockées dans un index. Le mot &ldquo;index&rdquo; est utilisé à la fois comme un verbe et un nom. Essentiellement, nous effectuons une opération d&rsquo;indexation afin de stocker des données dans un index. Cependant, avant de pouvoir le faire, nous devons d&rsquo;abord comprendre la structure d&rsquo;un index et comment en définir un pour répondre à des besoins spécifiques. Dans ce laboratoire pratique, vous allez définir des index Elasticsearch en effectuant les tâches suivantes :</p>
<ul>
<li>Configurer le nombre de shards primaires d&rsquo;un index.</li>
<li>Configurer le nombre de tiroirs de réplique d&rsquo;un index.</li>
<li>Attribuer les tiroirs d&rsquo;un index aux nœuds chauds.</li>
<li>Allouer les tessons d&rsquo;un index aux nœuds chauds.</li>
<li>Associer des index avec des alias.</li>
</ul>
<p>Vous travaillez en tant qu&rsquo;administrateur système pour une entreprise qui souhaite utiliser Elasticsearch avec Kibana pour stocker et analyser certaines données de journal. On vous demande de préparer le cluster Elasticsearch pour les données de journal en créant quelques index. Les journaux sont considérés comme des données chronologiques, et nous nous intéressons généralement aux journaux les plus récents. Nous devons nous assurer que les données dont nous nous soucions le plus sont allouées à nos nœuds les plus rapides, ou &ldquo;chauds&rdquo;. Les données dont nous nous soucions moins peuvent être attribuées à des nœuds &ldquo;chauds&rdquo; plus lents, qui ne seront pas indexés ou recherchés aussi souvent. Nous devons également être en mesure de rechercher les données en utilisant des alias tels que &ldquo;this_week&rdquo;, &ldquo;yesterday&rdquo; ou &ldquo;today&rdquo;. Les alias facilitent la recherche des données qui vous intéressent car vous n&rsquo;avez pas besoin de connaître les noms d&rsquo;index spécifiques.</p>
<p>Vous disposez d&rsquo;un cluster Elasticsearch préconfiguré à 6 nœuds avec Kibana déjà configuré et en cours d&rsquo;exécution sur le nœud coordinator-1. Vous devrez utiliser l&rsquo;outil de console de Kibana pour interagir avec les API d&rsquo;Elasticsearch afin de créer les index suivants :</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Aliases</th>
<th>Primaries</th>
<th>Replicas</th>
<th>Allocation</th>
</tr>
</thead>
<tbody>
<tr>
<td>tuto-logs-2020-01-05</td>
<td>logs / this_week</td>
<td>2</td>
<td>1</td>
<td>warm</td>
</tr>
<tr>
<td>tuto-logs-2020-01-06</td>
<td>logs / this_week</td>
<td>2</td>
<td>1</td>
<td>warm</td>
</tr>
<tr>
<td>tuto-logs-2020-01-07</td>
<td>logs / this_week</td>
<td>2</td>
<td>1</td>
<td>warm</td>
</tr>
<tr>
<td>tuto-logs-2020-01-05</td>
<td>logs / this_week</td>
<td>2</td>
<td>1</td>
<td>warm</td>
</tr>
<tr>
<td>tuto-logs-2020-01-05</td>
<td>logs / this_week</td>
<td>2</td>
<td>1</td>
<td>warm</td>
</tr>
<tr>
<td>tuto-logs-2020-01-05</td>
<td>logs / this_week / yesterday</td>
<td>2</td>
<td>1</td>
<td>hot</td>
</tr>
<tr>
<td>tuto-logs-2020-01-05</td>
<td>logs / this_week / today</td>
<td>2</td>
<td>1</td>
<td>hot</td>
</tr>
</tbody>
</table>
<h3 id=création-des-index>Création des index</h3>
<p>Utilisez l&rsquo;outil de console Kibana pour exécuter ce qui suit :</p>
<h4 id=créer-lindex-tuto-logs-2020-01-05>Créer l&rsquo;index tuto-logs-2020-01-05</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-05
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;warm&quot;
  }
}
</code></pre><h4 id=créer-lindex-tuto-logs-2020-01-06>Créer l&rsquo;index tuto-logs-2020-01-06</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-06
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;warm&quot;
  }
}
</code></pre><h4 id=créer-lindex-tuto-logs-2020-01-07>Créer l&rsquo;index tuto-logs-2020-01-07</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-07
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;warm&quot;
  }
}
</code></pre><h4 id=créer-lindex-tuto-logs-2020-01-08>Créer l&rsquo;index tuto-logs-2020-01-08</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-08
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;warm&quot;
  }
}
</code></pre><h4 id=créer-lindex-tuto-logs-2020-01-09>Créer l&rsquo;index tuto-logs-2020-01-09</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-09
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;warm&quot;
  }
}
</code></pre><h4 id=créer-lindex-tuto-logs-2020-01-10>Créer l&rsquo;index tuto-logs-2020-01-10</h4>
<pre tabindex=0><code>PUT tuto-logs-2020-01-10
{
  &quot;aliases&quot;: {
    &quot;logs&quot;: {},
    &quot;this_week&quot;: {},
    &quot;yesterday&quot;: {}
  },
  &quot;settings&quot;: {
    &quot;number_of_shards&quot;: 2,
    &quot;number_of_replicas&quot;: 1,
    &quot;index.routing.allocation.require.temp&quot;: &quot;hot&quot;
  }
}
</code></pre><h2 id=a-vous-de-jouez->A vous de jouez !</h2>
<h4 id=créer-lindex-tuto-logs-2020-01-11>Créer l&rsquo;index tuto-logs-2020-01-11</h4>
<p>A vous de me fournir la configuration de l&rsquo;index correspondant aux informations dans le tableau.</p>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/elastic-tutorial/elastic/intermediare/alerting/ title="Lab - Alertes"> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/elastic-tutorial/elastic/intermediare/mapping/ title="Labs - Mapping" style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/elastic-tutorial/js/clipboard.min.js?1645973180></script>
<script src=/elastic-tutorial/js/perfect-scrollbar.min.js?1645973180></script>
<script src=/elastic-tutorial/js/perfect-scrollbar.jquery.min.js?1645973180></script>
<script src=/elastic-tutorial/js/jquery.sticky.js?1645973180></script>
<script src=/elastic-tutorial/js/featherlight.min.js?1645973180></script>
<script src=/elastic-tutorial/js/highlight.pack.js?1645973180></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=/elastic-tutorial/js/modernizr.custom-3.6.0.js?1645973180></script>
<script src=/elastic-tutorial/js/learn.js?1645973180></script>
<script src=/elastic-tutorial/js/hugo-learn.js?1645973180></script>
<script src=/elastic-tutorial/mermaid/mermaid.js?1645973180></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
</body>
</html>